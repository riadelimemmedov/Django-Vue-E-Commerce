{"ast":null,"code":"import axios from 'axios';\nimport OrderSummary from '../components/OrderSummary.vue';\nexport default {\n  name: 'MyAccount',\n\n  data() {\n    return {\n      orders: []\n    };\n  },\n\n  methods: {\n    logOut() {\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n      window.localStorage.removeItem('token');\n      window.localStorage.removeItem('username');\n      window.localStorage.removeItem('userid');\n      this.$store.commit('removeToken');\n      this.$router.push('/');\n    },\n\n    async getMyOrders() {\n      this.$store.commit('setIsLoading', true);\n      await axios.get('api/v1/orders/').then(response => {\n        this.orders = response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n\n  },\n  components: {\n    'app-order-summary': OrderSummary\n  },\n\n  mounted() {\n    window.document.title = 'My Account | Djackets';\n    this.getMyOrders();\n  }\n\n};","map":{"version":3,"mappings":"AAsBI,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AAEA,eAAc;EACVC,IAAI,EAAC,WADK;;EAEVC,IAAI,GAAE;IACF,OAAM;MACFC,MAAM,EAAC;IADL,CAAN;EAGH,CANS;;EAOVC,OAAO,EAAC;IACJC,MAAM,GAAE;MACJN,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;MACAC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,OAA/B;MACAF,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,UAA/B;MACAF,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,QAA/B;MAEA,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,aAAnB;MACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;IACH,CATG;;IAUJ,MAAMC,WAAN,GAAmB;MACf,KAAKJ,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkC,IAAlC;MACA,MAAMd,KAAK,CAACkB,GAAN,CAAU,gBAAV,EACDC,IADC,CACKC,QAAD,IAAY;QACd,KAAKhB,MAAL,GAAYgB,QAAQ,CAACjB,IAArB;MACH,CAHC,EAIDkB,KAJC,CAIMC,GAAD,IAAO;QACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACH,CANC,CAAN;MAOA,KAAKT,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkC,KAAlC;IACJ;;EApBI,CAPE;EA6BVW,UAAU,EAAC;IACP,qBAAoBxB;EADb,CA7BD;;EAgCVyB,OAAO,GAAE;IACLhB,MAAM,CAACiB,QAAP,CAAgBC,KAAhB,GAAwB,uBAAxB;IACA,KAAKX,WAAL;EACJ;;AAnCU,CAAd","names":["axios","OrderSummary","name","data","orders","methods","logOut","defaults","headers","common","window","localStorage","removeItem","$store","commit","$router","push","getMyOrders","get","then","response","catch","err","console","log","components","mounted","document","title"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\django_vue_ecommerce\\djackets_vue\\src\\views\\MyAccount.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-my-account\">\r\n        <div class=\"columns is-multiline\">\r\n            <div class=\"column is-12\">\r\n                <div class=\"title\">My Account</div>\r\n            </div>\r\n            <div class=\"column is-12\">\r\n                <button class=\"button is-danger\" @click=\"logOut()\">Log Out</button>\r\n            </div>\r\n            \r\n            <hr>\r\n\r\n            <app-order-summary v-for=\"order in orders\">\r\n\r\n            </app-order-summary>\r\n\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import OrderSummary from '../components/OrderSummary.vue'\r\n\r\n    export default{\r\n        name:'MyAccount',\r\n        data(){\r\n            return{\r\n                orders:[]\r\n            }\r\n        },\r\n        methods:{\r\n            logOut(){\r\n                axios.defaults.headers.common[\"Authorization\"] = \"\"\r\n                window.localStorage.removeItem('token')\r\n                window.localStorage.removeItem('username')\r\n                window.localStorage.removeItem('userid')\r\n\r\n                this.$store.commit('removeToken')\r\n                this.$router.push('/')\r\n            },\r\n            async getMyOrders(){\r\n                this.$store.commit('setIsLoading',true)\r\n                await axios.get('api/v1/orders/')\r\n                    .then((response)=>{\r\n                        this.orders=response.data\r\n                    })\r\n                    .catch((err)=>{\r\n                        console.log(err)\r\n                    })\r\n                this.$store.commit('setIsLoading',false)\r\n            }\r\n        },\r\n        components:{\r\n            'app-order-summary':OrderSummary\r\n        },\r\n        mounted(){\r\n            window.document.title = 'My Account | Djackets'\r\n            this.getMyOrders()\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}