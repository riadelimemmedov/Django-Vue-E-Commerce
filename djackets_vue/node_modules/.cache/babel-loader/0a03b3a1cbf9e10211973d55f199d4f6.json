{"ast":null,"code":"import axios from 'axios';\nimport { toast } from 'bulma-toast';\nimport useVuelidate from '@vuelidate/core';\nimport { required, email, minLength, maxLength, sameAs } from '@vuelidate/validators';\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      repassword: '',\n      errors: []\n    };\n  },\n\n  methods: {\n    signUp() {\n      if (this.username != null && this.password != null && this.repassword != null) {\n        const formData = {\n          username: this.username,\n          password: this.password\n        }; //Axios post reqeuest Back end\n\n        axios.post('api/v1/users/', formData).then(response => {\n          toast({\n            message: 'Account created,please log in',\n            type: 'is-success',\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: 'bottom-right'\n          });\n          this.$router.push('/login/');\n        }).catch(err => {\n          if (err.response) {\n            //axios error\n            for (const property in err.response.data) {\n              this.errors.push(`${property}: ${err.response.data[property]}`); //key and value format to look like\n            }\n\n            console.log(JSON.stringify(err.response.data));\n          } else if (err.message) {\n            this.errors.push('Something went wrong.Please try again');\n            console.log(JSON.stringify(err));\n          }\n        });\n      }\n    }\n\n  },\n\n  setup() {\n    return {\n      $v: useVuelidate()\n    };\n  },\n\n  validations() {\n    return {\n      username: {\n        required,\n        minLength: minLength(5),\n        maxLength: maxLength(10)\n      },\n      password: {\n        required,\n        minLength: minLength(6),\n        maxLength: maxLength(12)\n      },\n      repassword: {\n        required,\n        minLength: minLength(6),\n        maxLength: maxLength(12),\n        sameAs: sameAs(this.password)\n      }\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAsDI,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,aAApB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAAyBC,SAAzB,EAAmCC,SAAnC,EAA6CC,MAA7C,QAA2D,uBAA3D;AAEA,eAAc;EACVC,IAAI,GAAE;IACF,OAAM;MACFC,QAAQ,EAAC,EADP;MAEFC,QAAQ,EAAC,EAFP;MAGFC,UAAU,EAAC,EAHT;MAIFC,MAAM,EAAC;IAJL,CAAN;EAMH,CARS;;EASVC,OAAO,EAAC;IACJC,MAAM,GAAE;MACJ,IAAG,KAAKL,QAAL,IAAgB,IAAhB,IAAwB,KAAKC,QAAL,IAAgB,IAAxC,IAAgD,KAAKC,UAAL,IAAkB,IAArE,EAA0E;QACtE,MAAMI,QAAO,GAAI;UACbN,QAAQ,EAAC,KAAKA,QADD;UAEbC,QAAQ,EAAC,KAAKA;QAFD,CAAjB,CADsE,CAKtE;;QACAV,KAAK,CAACgB,IAAN,CAAW,eAAX,EAA2BD,QAA3B,EACKE,IADL,CACWC,QAAD,IAAY;UACdjB,KAAK,CAAC;YACFkB,OAAO,EAAC,+BADN;YAEFC,IAAI,EAAC,YAFH;YAGFC,WAAW,EAAC,IAHV;YAIFC,YAAY,EAAC,IAJX;YAKFC,QAAQ,EAAC,IALP;YAMFC,QAAQ,EAAC;UANP,CAAD,CAAL;UAQA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,SAAlB;QACH,CAXL,EAYKC,KAZL,CAYYC,GAAD,IAAO;UACV,IAAGA,GAAG,CAACV,QAAP,EAAgB;YAAC;YACb,KAAI,MAAMW,QAAV,IAAsBD,GAAG,CAACV,QAAJ,CAAaV,IAAnC,EAAwC;cACpC,KAAKI,MAAL,CAAYc,IAAZ,CAAkB,GAAEG,QAAS,KAAID,GAAG,CAACV,QAAJ,CAAaV,IAAb,CAAkBqB,QAAlB,CAA4B,EAA7D,EADoC,CAC2B;YACnE;;YACAC,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,GAAG,CAACV,QAAJ,CAAaV,IAA5B,CAAZ;UACJ,CALA,MAMK,IAAGoB,GAAG,CAACT,OAAP,EAAe;YAChB,KAAKP,MAAL,CAAYc,IAAZ,CAAiB,uCAAjB;YACAI,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAAZ;UACJ;QACH,CAvBL;MAyBJ;IACJ;;EAlCI,CATE;;EA6CVM,KAAK,GAAE;IACH,OAAO;MAACC,EAAE,EAACjC,YAAY;IAAhB,CAAP;EACH,CA/CS;;EAgDVkC,WAAW,GAAE;IACT,OAAM;MACF3B,QAAQ,EAAC;QACLN,QADK;QAELE,SAAS,EAACA,SAAS,CAAC,CAAD,CAFd;QAGLC,SAAS,EAACA,SAAS,CAAC,EAAD;MAHd,CADP;MAMFI,QAAQ,EAAC;QACLP,QADK;QAELE,SAAS,EAACA,SAAS,CAAC,CAAD,CAFd;QAGLC,SAAS,EAACA,SAAS,CAAC,EAAD;MAHd,CANP;MAWFK,UAAU,EAAC;QACPR,QADO;QAEPE,SAAS,EAACA,SAAS,CAAC,CAAD,CAFZ;QAGPC,SAAS,EAACA,SAAS,CAAC,EAAD,CAHZ;QAIPC,MAAM,EAACA,MAAM,CAAC,KAAKG,QAAN;MAJN;IAXT,CAAN;EAkBJ;;AAnEU,CAAd","names":["axios","toast","useVuelidate","required","email","minLength","maxLength","sameAs","data","username","password","repassword","errors","methods","signUp","formData","post","then","response","message","type","dismissible","pauseOnHover","duration","position","$router","push","catch","err","property","console","log","JSON","stringify","setup","$v","validations"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\django_vue_ecommerce\\djackets_vue\\src\\views\\SignUp.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-sign-up\">\r\n        <div class=\"columns\">\r\n            <div class=\"column is-4 is-offset-4\">\r\n                <h1 class=\"title\">Sign Up</h1>\r\n                <form @submit.prevent=\"signUp\">\r\n                    <div class=\"field\">\r\n                        <label>Username</label>\r\n                        <div class=\"control\">\r\n                            <input @blur=\"$v.username.$touch()\" v-model=\"username\" :class=\"{'input is-danger':$v.username.$error}\" type=\"text\" class=\"input\" placeholder=\"Username\">\r\n                            <small v-if=\"$v.username.required.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please enter email</small>\r\n                            <small v-if=\"$v.username.minLength.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Username minimum length is 5 characters</small>\r\n                            <small v-if=\"$v.username.maxLength.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Username maximum length is 10 characters</small>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label>Password</label>\r\n                        <div class=\"control\">\r\n                            <input @input=\"$v.password.touch()\" v-model=\"password\" type=\"password\" class=\"input\" placeholder=\"Password\">\r\n                            <small v-if=\"$v.password.required.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please enter password</small>\r\n                            <small v-if=\"$v.password.minLength.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please input minumum {{$v.password.minLength.$params.min}} length for valid password</small>\r\n                            <small v-if=\"$v.password.maxLength.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please input minumum {{$v.password.maxLength.$params.max}} length for valid password</small>                            \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label>Repeat Password</label>\r\n                        <div class=\"control\">\r\n                            <input @input=\"$v.repassword.touch()\" v-model=\"repassword\" type=\"password\" class=\"input\" placeholder=\"Password\">\r\n                            <small v-if=\"$v.repassword.required.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please enter password</small>\r\n                            <small v-if=\"$v.repassword.minLength.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please input minumum {{$v.repassword.minLength.$params.min}} length for valid password</small>\r\n                            <small v-if=\"$v.repassword.maxLength.$invalid\" class=\"has-text-info is-block\" style=\"font-size:15px\">Please input minumum {{$v.repassword.maxLength.$params.max}} length for valid password</small>                            \r\n                            <small v-if=\"$v.repassword.sameAs.$invalid\" class=\"has-text-danger is-block\" style=\"font-size:15px\">Please same password</small>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\r\n                        <p v-for=\"(error,index) in errors\" :key=\"index\">{{error}}</p>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <div class=\"control\">\r\n                            <button type=\"submit\" class=\"button is-dark is-outlined\">Sign Up</button>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <router-link to=\"log-in/\" class=\"has-text-link is-family-sans-serif\">Click Here</router-link> to log in\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n\r\n</template>\r\n\r\n<script>   \r\n    import axios from 'axios'\r\n    import {toast} from 'bulma-toast'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { required, email,minLength,maxLength,sameAs } from '@vuelidate/validators'\r\n\r\n    export default{\r\n        data(){\r\n            return{\r\n                username:'',\r\n                password:'',\r\n                repassword:'',\r\n                errors:[]\r\n            }\r\n        },\r\n        methods:{\r\n            signUp(){\r\n                if(this.username !=null && this.password !=null && this.repassword !=null){\r\n                    const formData = {\r\n                        username:this.username,\r\n                        password:this.password\r\n                    }\r\n                    //Axios post reqeuest Back end\r\n                    axios.post('api/v1/users/',formData)\r\n                        .then((response)=>{\r\n                            toast({\r\n                                message:'Account created,please log in',\r\n                                type:'is-success',\r\n                                dismissible:true,\r\n                                pauseOnHover:true,\r\n                                duration:2000,\r\n                                position:'bottom-right',\r\n                            })\r\n                            this.$router.push('/login/')\r\n                        })\r\n                        .catch((err)=>{\r\n                            if(err.response){//axios error\r\n                                for(const property in err.response.data){\r\n                                    this.errors.push(`${property}: ${err.response.data[property]}`)//key and value format to look like\r\n                                }\r\n                                console.log(JSON.stringify(err.response.data))\r\n                            }\r\n                            else if(err.message){\r\n                                this.errors.push('Something went wrong.Please try again')\r\n                                console.log(JSON.stringify(err))\r\n                            }\r\n                        })\r\n                \r\n                }        \r\n            }\r\n        },\r\n        setup(){\r\n            return {$v:useVuelidate()}\r\n        },\r\n        validations(){\r\n            return{\r\n                username:{\r\n                    required,\r\n                    minLength:minLength(5),\r\n                    maxLength:maxLength(10)\r\n                },\r\n                password:{\r\n                    required,\r\n                    minLength:minLength(6),\r\n                    maxLength:maxLength(12)\r\n                },\r\n                repassword:{\r\n                    required,\r\n                    minLength:minLength(6),\r\n                    maxLength:maxLength(12),\r\n                    sameAs:sameAs(this.password)\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}