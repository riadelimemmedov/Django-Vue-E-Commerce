{"ast":null,"code":"import axios from 'axios';\nimport CartItem from '../components/CartItem.vue';\nexport default {\n  name: 'Cart',\n\n  data() {\n    return {\n      cart: {\n        items: []\n      }\n    };\n  },\n\n  methods: {\n    removeCart(item) {\n      this.cart.items = this.cart.items.filter(i => i.product.id != item.product.id);\n    }\n\n  },\n  components: {\n    'app-cart-item': CartItem\n  },\n\n  mounted() {\n    this.cart = this.$store.state.cart;\n  },\n\n  computed: {\n    //channge basa value vue instance\n    cartTotalLenght() {\n      return this.cart.items.reduce((acc, curVal) => {\n        return acc += curVal.quantity;\n      }, 0);\n    },\n\n    cartTotalPrice() {\n      return this.cart.items.reduce((acc, curVal) => {\n        return acc += curVal.product.price * curVal.quantity;\n      }, 0);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuCI,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,eAAc;EACVC,IAAI,EAAC,MADK;;EAEVC,IAAI,GAAE;IACF,OAAM;MACFC,IAAI,EAAC;QACDC,KAAK,EAAC;MADL;IADH,CAAN;EAKH,CARS;;EASVC,OAAO,EAAC;IACJC,UAAU,CAACC,IAAD,EAAM;MACZ,KAAKJ,IAAL,CAAUC,KAAV,GAAkB,KAAKD,IAAL,CAAUC,KAAV,CAAgBI,MAAhB,CAAuBC,CAAC,IAAEA,CAAC,CAACC,OAAF,CAAUC,EAAV,IAAcJ,IAAI,CAACG,OAAL,CAAaC,EAArD,CAAlB;IACJ;;EAHI,CATE;EAcVC,UAAU,EAAC;IACP,iBAAgBZ;EADT,CAdD;;EAiBVa,OAAO,GAAE;IACL,KAAKV,IAAL,GAAY,KAAKW,MAAL,CAAYC,KAAZ,CAAkBZ,IAA9B;EACH,CAnBS;;EAoBVa,QAAQ,EAAC;IAAC;IACNC,eAAe,GAAE;MACb,OAAO,KAAKd,IAAL,CAAUC,KAAV,CAAgBc,MAAhB,CAAuB,CAACC,GAAD,EAAKC,MAAL,KAAc;QACxC,OAAOD,GAAG,IAAEC,MAAM,CAACC,QAAnB;MACH,CAFM,EAEL,CAFK,CAAP;IAGH,CALI;;IAMLC,cAAc,GAAE;MACZ,OAAO,KAAKnB,IAAL,CAAUC,KAAV,CAAgBc,MAAhB,CAAuB,CAACC,GAAD,EAAKC,MAAL,KAAc;QACxC,OAAOD,GAAG,IAAEC,MAAM,CAACV,OAAP,CAAea,KAAf,GAAqBH,MAAM,CAACC,QAAxC;MACH,CAFM,EAEL,CAFK,CAAP;IAGJ;;EAVK;AApBC,CAAd","names":["axios","CartItem","name","data","cart","items","methods","removeCart","item","filter","i","product","id","components","mounted","$store","state","computed","cartTotalLenght","reduce","acc","curVal","quantity","cartTotalPrice","price"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\django_vue_ecommerce\\djackets_vue\\src\\views\\Cart.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-cart\">\r\n        <div class=\"columns is-multiline\">\r\n            <div class=\"column is-12\">\r\n                <h1 class=\"title\">Cart</h1>\r\n            </div>\r\n            <div class=\"column is-12 box mt-2\">\r\n                <table class=\"table is-fullwidth\" v-if=\"cartTotalLenght\"><!-- !v-if=\"cartTotalLenght\"-->\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Product</th>\r\n                            <th>Price</th>\r\n                            <th>Quantity</th>\r\n                            <th>Total</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                            <!-- !CartItem componennt here -->\r\n                            <app-cart-item \r\n                                v-for=\"item in cart.items\" \r\n                                :key=\"item.id\" \r\n                                :initialItem=\"item\"\r\n                                @removeCart=\"removeCart\"></app-cart-item>\r\n                    </tbody>\r\n                </table>\r\n                <p v-else>You dont't have any products in your cart...</p>\r\n            </div>\r\n            <div class=\"column is-12 box\">\r\n                <h2 class=\"subtitle\">Summary</h2>\r\n                <strong>${{cartTotalPrice}}</strong>, {{cartTotalLenght}} items\r\n                <hr>\r\n                <router-link to=\"/cart/checkout\" class=\"button is-dark\">Proceed to checkout</router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import CartItem from '../components/CartItem.vue'\r\n    \r\n    export default{\r\n        name:'Cart',\r\n        data(){\r\n            return{\r\n                cart:{\r\n                    items:[]\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            removeCart(item){\r\n                this.cart.items = this.cart.items.filter(i=>i.product.id!=item.product.id)\r\n            }\r\n        },\r\n        components:{\r\n            'app-cart-item':CartItem\r\n        },\r\n        mounted(){\r\n            this.cart = this.$store.state.cart\r\n        },\r\n        computed:{//channge basa value vue instance\r\n            cartTotalLenght(){\r\n                return this.cart.items.reduce((acc,curVal)=>{\r\n                    return acc+=curVal.quantity\r\n                },0)\r\n            },\r\n            cartTotalPrice(){\r\n                return this.cart.items.reduce((acc,curVal)=>{\r\n                    return acc+=curVal.product.price*curVal.quantity\r\n                },0)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}