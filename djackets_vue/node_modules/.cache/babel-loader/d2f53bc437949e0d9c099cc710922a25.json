{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      showMobileMenu: false,\n      cart: {\n        items: []\n      }\n    };\n  },\n\n  beforeCreate() {\n    //when opened app.vue page beforeCreate immediatily working\n    this.$store.commit('initializeStorage'); //called when open thi page  \n\n    const token = this.$store.state.token;\n\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = \"Token \" + token;\n    } else {\n      axios.defaults.headers.common['Authorization'] = \"\";\n    }\n  },\n\n  mounted() {\n    this.cart = this.$store.state.cart;\n  },\n\n  computed: {\n    cartTotalLength() {\n      let totalLength = 0;\n\n      for (let i = 0; i < this.cart.items.length; i++) {\n        totalLength += this.cart.items[i].quantity;\n      }\n\n      return totalLength;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkEE,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAc;EACZC,IAAI,GAAE;IACJ,OAAM;MACJC,cAAc,EAAC,KADX;MAEJC,IAAI,EAAC;QACHC,KAAK,EAAC;MADH;IAFD,CAAN;EAMD,CARW;;EASZC,YAAY,GAAE;IAAC;IACb,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,mBAAnB,EADY,CAC2B;;IAEvC,MAAMC,KAAI,GAAI,KAAKF,MAAL,CAAYG,KAAZ,CAAkBD,KAAhC;;IAEA,IAAGA,KAAH,EAAS;MACPR,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAA+C,WAAWJ,KAA1D;IACF,CAFA,MAGI;MACFR,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAA+C,EAA/C;IACF;EACD,CApBW;;EAqBZC,OAAO,GAAE;IACP,KAAKV,IAAL,GAAY,KAAKG,MAAL,CAAYG,KAAZ,CAAkBN,IAA9B;EACD,CAvBW;;EAwBZW,QAAQ,EAAC;IACPC,eAAe,GAAE;MACf,IAAIC,WAAU,GAAI,CAAlB;;MACA,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKd,IAAL,CAAUC,KAAV,CAAgBc,MAA9B,EAAqCD,CAAC,EAAtC,EAAyC;QACvCD,WAAU,IAAK,KAAKb,IAAL,CAAUC,KAAV,CAAgBa,CAAhB,EAAmBE,QAAlC;MACF;;MACA,OAAOH,WAAP;IACF;;EAPO;AAxBG,CAAd","names":["axios","data","showMobileMenu","cart","items","beforeCreate","$store","commit","token","state","defaults","headers","common","mounted","computed","cartTotalLength","totalLength","i","length","quantity"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\django_vue_ecommerce\\djackets_vue\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"wrapper\">\n    <nav class=\"navbar is-dark\">\n        <!-- !Navbar Brand -->\n        <div class=\"navbar-brand\">\n          <router-link to=\"/\" class=\"navbar-item\"><strong>Djackets</strong></router-link>\n          <a class=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbar-menu\" @click=\"showMobileMenu = !showMobileMenu\">\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n          </a>\n        </div>\n        <!-- !Navbar Menu -->\n        <div class=\"navbar-menu\" id=\"navbar-menu\" :class=\"{'is-active':showMobileMenu}\">\n          <div class=\"navbar-start\">\n            <div class=\"navbar-item\">\n              <form method=\"GET\" action=\"/search\">\n                <div class=\"field has-addons\">\n                  <div class=\"control\">\n                    <input type=\"text\" name=\"product_name\" class=\"input\" placeholder=\"What are you looking for?\">\n                  </div>\n                  <div class=\"control\">\n                    <button type=\"submit\" class=\"button is-success\">\n                      <span class=\"icon\"></span>\n                      <i class=\"fas fa-search\"></i>\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n          \n          \n          <div class=\"navbar-end\">\n            <router-link :to=\"{name:'Category',params:{category_slug:'summer'}}\" class=\"navbar-item\">Summer</router-link>\n            <router-link to=\"/winter\" class=\"navbar-item\">Winter</router-link>\n            <div class=\"navbar-item\">\n              <div class=\"buttons\">\n                <router-link to=\"/log-in\" class=\"button is-light\">Log In</router-link>\n                <router-link to=\"/cart\" class=\"button is-success\">\n                  <span class=\"icon\"><i class=\"fas fa-shopping-cart\"></i></span>\n                  <span>Cart ({{cartTotalLength}})</span>\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n    </nav>\n\n    <!-- !Loading Bar -->\n    <div class=\"is-loading-bar has-text-centered\" :class=\"{'is-loading':$store.state.isLoading}\">\n      <div class=\"lds-dual-ring\"></div>\n    </div>\n\n    <!-- !Router-View -->\n    <div class=\"section\">\n      <router-view/>\n    </div>\n    <!-- !Footer -->\n    <footer class=\"footer\">\n      <p class=\"has-text-centered\">Copyright (c) 2022</p>\n    </footer>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n\n  export default{\n    data(){\n      return{\n        showMobileMenu:false,\n        cart:{\n          items:[]\n        }\n      }\n    },\n    beforeCreate(){//when opened app.vue page beforeCreate immediatily working\n      this.$store.commit('initializeStorage')//called when open thi page  \n\n      const token = this.$store.state.token\n      \n      if(token){\n        axios.defaults.headers.common['Authorization']=\"Token \" + token\n      }\n      else{\n        axios.defaults.headers.common['Authorization']=\"\"\n      }\n    },\n    mounted(){\n      this.cart = this.$store.state.cart\n    },\n    computed:{\n      cartTotalLength(){\n        let totalLength = 0\n        for(let i=0;i<this.cart.items.length;i++){\n          totalLength += this.cart.items[i].quantity\n        }\n        return totalLength\n      }\n    }\n\n  }\n</script>\n\n<style lang=\"scss\">\n  @import '../node_modules/bulma';\n    .lds-dual-ring {\n    display: inline-block;\n    width: 80px;\n    height: 80px;\n  }\n  .lds-dual-ring:after {\n    content: \" \";\n    display: block;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border-radius: 50%;\n    border: 6px solid #ccc;\n    border-color: #ccc transparent #ccc transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  .is-loading-bar {\n    height: 0;\n    overflow: hidden;\n    -webkit-transition: all 0.3s;\n    transition: all 0.3s;\n    &.is-loading {\n      height: 80px;\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}