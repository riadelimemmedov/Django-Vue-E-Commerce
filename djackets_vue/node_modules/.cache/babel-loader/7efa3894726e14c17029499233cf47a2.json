{"ast":null,"code":"import axios from 'axios';\nimport { toast } from 'bulma-toast';\nimport ProductBoxVue from '../components/ProductBox.vue';\nexport default {\n  name: 'Category',\n\n  data() {\n    return {\n      category: {\n        products: []\n      }\n    };\n  },\n\n  components: {\n    'app-product-box': ProductBoxVue\n  },\n  watch: {\n    $route(to, from, next) {\n      if (to.name == 'Category') {\n        this.getCategory();\n      }\n    }\n\n  },\n  methods: {\n    async getCategory() {\n      const categorySlug = this.$route.params.category_slug;\n      console.log('Category Slug', categorySlug);\n      this.$store.commit('setIsLoading', true);\n      await axios.get(`api/v1/products/${categorySlug}/`).then(response => {\n        this.category = response.data;\n        console.log('Category Value', this.category);\n        window.document.title = this.category.name + '| Djackets';\n      }).catch(err => {\n        console.log(err);\n        toast({\n          message: 'Someting went wrong.Pleasse try again',\n          type: 'is-danger',\n          dismissible: true,\n          pauseOnHover: true,\n          duration: 2000,\n          position: 'bottom-right'\n        });\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n\n  },\n\n  mounted() {\n    this.getCategory();\n  }\n\n};","map":{"version":3,"mappings":"AAeI,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AAEA,eAAc;EACVC,IAAI,EAAC,UADK;;EAEVC,IAAI,GAAE;IACF,OAAM;MACFC,QAAQ,EAAC;QACLC,QAAQ,EAAC;MADJ;IADP,CAAN;EAKH,CARS;;EASVC,UAAU,EAAC;IACP,mBAAkBL;EADX,CATD;EAYVM,KAAK,EAAC;IACFC,MAAM,CAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAc;MAChB,IAAGF,EAAE,CAACP,IAAH,IAAS,UAAZ,EAAuB;QACnB,KAAKU,WAAL;MACJ;IACJ;;EALE,CAZI;EAmBVC,OAAO,EAAC;IACJ,MAAMD,WAAN,GAAmB;MACf,MAAME,YAAW,GAAI,KAAKN,MAAL,CAAYO,MAAZ,CAAmBC,aAAxC;MACAC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BJ,YAA7B;MAEA,KAAKK,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkC,IAAlC;MACA,MAAMrB,KAAK,CAACsB,GAAN,CAAW,mBAAkBP,YAAa,GAA1C,EACDQ,IADC,CACKC,QAAD,IAAY;QACd,KAAKnB,QAAL,GAAgBmB,QAAQ,CAACpB,IAAzB;QACAc,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6B,KAAKd,QAAlC;QACAoB,MAAM,CAACC,QAAP,CAAgBC,KAAhB,GAAwB,KAAKtB,QAAL,CAAcF,IAAd,GAAqB,YAA7C;MACH,CALC,EAMDyB,KANC,CAMMC,GAAD,IAAO;QACVX,OAAO,CAACC,GAAR,CAAYU,GAAZ;QACA5B,KAAK,CAAC;UACF6B,OAAO,EAAC,uCADN;UAEFC,IAAI,EAAC,WAFH;UAGFC,WAAW,EAAC,IAHV;UAIFC,YAAY,EAAC,IAJX;UAKFC,QAAQ,EAAC,IALP;UAMFC,QAAQ,EAAC;QANP,CAAD,CAAL;MAQH,CAhBC,CAAN;MAiBA,KAAKf,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkC,KAAlC;IACJ;;EAxBI,CAnBE;;EA6CVe,OAAO,GAAE;IACL,KAAKvB,WAAL;EACJ;;AA/CU,CAAd","names":["axios","toast","ProductBoxVue","name","data","category","products","components","watch","$route","to","from","next","getCategory","methods","categorySlug","params","category_slug","console","log","$store","commit","get","then","response","window","document","title","catch","err","message","type","dismissible","pauseOnHover","duration","position","mounted"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\django_vue_ecommerce\\djackets_vue\\src\\views\\Category.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-category\">\r\n        <div class=\"columns is-multiline\">\r\n            <div class=\"column is-12\">\r\n                <h2 class=\"is-size-2 has-text-centered\">\r\n                    {{category.name}}\r\n                </h2>\r\n            </div>\r\n            <!-- !ProductBox Component -->\r\n            <app-product-box v-for=\"product in category.products\" :key=\"product.id\" :lp=\"product\"></app-product-box>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import { toast } from 'bulma-toast'\r\n    import ProductBoxVue from '../components/ProductBox.vue'\r\n\r\n    export default{\r\n        name:'Category',\r\n        data(){\r\n            return{\r\n                category:{\r\n                    products:[]\r\n                }\r\n            }\r\n        },\r\n        components:{\r\n            'app-product-box':ProductBoxVue\r\n        },\r\n        watch:{\r\n            $route(to,from,next){\r\n                if(to.name=='Category'){\r\n                    this.getCategory()\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            async getCategory(){\r\n                const categorySlug = this.$route.params.category_slug\r\n                console.log('Category Slug', categorySlug)\r\n                \r\n                this.$store.commit('setIsLoading',true)\r\n                await axios.get(`api/v1/products/${categorySlug}/`)\r\n                    .then((response)=>{\r\n                        this.category = response.data\r\n                        console.log('Category Value',this.category);\r\n                        window.document.title = this.category.name + '| Djackets'\r\n                    })\r\n                    .catch((err)=>{\r\n                        console.log(err)\r\n                        toast({\r\n                            message:'Someting went wrong.Pleasse try again',\r\n                            type:'is-danger',\r\n                            dismissible:true,\r\n                            pauseOnHover:true,\r\n                            duration:2000,\r\n                            position:'bottom-right',\r\n                        })\r\n                    })\r\n                this.$store.commit('setIsLoading',false)\r\n            }\r\n        },\r\n        mounted(){\r\n            this.getCategory()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}