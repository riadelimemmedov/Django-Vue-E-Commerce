{"ast":null,"code":"import axios from 'axios';\nimport ProductBox from '../components/ProductBox.vue';\nexport default {\n  name: 'Search',\n\n  data() {\n    return {\n      products: [],\n      query: ''\n    };\n  },\n\n  components: {\n    'app-product-box': ProductBox\n  },\n\n  mounted() {\n    //after \n    window.document.title = 'Search | Djackets';\n    let url = window.location.search.substring(1);\n    let params = new URLSearchParams(url);\n    console.log('Url value', url);\n    console.log('Params', params);\n\n    if (params.get('product_name')) {\n      //return value according given key\n      this.query = params.get('product_name');\n      this.performSearch();\n    }\n  },\n\n  methods: {\n    async performSearch() {\n      this.$store.commit('setIsLoading', true);\n      console.log('Query value', this.query);\n      await axios.post('api/v1/products/search/', this.query).then(response => {\n        this.products = response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAcI,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AAEA,eAAc;EACVC,IAAI,EAAC,QADK;;EAEVC,IAAI,GAAE;IACF,OAAM;MACFC,QAAQ,EAAC,EADP;MAEFC,KAAK,EAAC;IAFJ,CAAN;EAIH,CAPS;;EAQVC,UAAU,EAAC;IACP,mBAAkBL;EADX,CARD;;EAWVM,OAAO,GAAE;IAAC;IACNC,MAAM,CAACC,QAAP,CAAgBC,KAAhB,GAAwB,mBAAxB;IAEA,IAAIC,GAAE,GAAIH,MAAM,CAACI,QAAP,CAAgBC,MAAhB,CAAuBC,SAAvB,CAAiC,CAAjC,CAAV;IACA,IAAIC,MAAK,GAAI,IAAIC,eAAJ,CAAoBL,GAApB,CAAb;IACAM,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBP,GAAzB;IACAM,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,MAAtB;;IAEA,IAAGA,MAAM,CAACI,GAAP,CAAW,cAAX,CAAH,EAA8B;MAAC;MAC3B,KAAKd,KAAL,GAAaU,MAAM,CAACI,GAAP,CAAW,cAAX,CAAb;MACA,KAAKC,aAAL;IACJ;EACH,CAvBS;;EAwBVC,OAAO,EAAC;IACJ,MAAMD,aAAN,GAAqB;MACjB,KAAKE,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkC,IAAlC;MACAN,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKb,KAAhC;MACA,MAAML,KAAK,CAACwB,IAAN,CAAW,yBAAX,EAAqC,KAAKnB,KAA1C,EACDoB,IADC,CACKC,QAAD,IAAY;QACd,KAAKtB,QAAL,GAAgBsB,QAAQ,CAACvB,IAAzB;MACH,CAHC,EAIDwB,KAJC,CAIMC,GAAD,IAAO;QACVX,OAAO,CAACC,GAAR,CAAYU,GAAZ;MACH,CANC,CAAN;MAOA,KAAKN,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkC,KAAlC;IACJ;;EAZI;AAxBE,CAAd","names":["axios","ProductBox","name","data","products","query","components","mounted","window","document","title","url","location","search","substring","params","URLSearchParams","console","log","get","performSearch","methods","$store","commit","post","then","response","catch","err"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\django_vue_ecommerce\\djackets_vue\\src\\views\\Search.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-search\">\r\n        <div class=\"columns is-multiline\">\r\n            <div class=\"column is-12\">\r\n                <h1 class=\"title\">Search</h1>\r\n                <h2 class=\"is-size-5 has-text-grey\">Search term : {{query}}</h2>\r\n            </div>\r\n            <!-- !ProductBox Component -->\r\n            <app-product-box v-for=\"product in products\" :key=\"product.id\" :lp=\"product\"></app-product-box>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import ProductBox from '../components/ProductBox.vue'\r\n\r\n    export default{\r\n        name:'Search',\r\n        data(){\r\n            return{\r\n                products:[],\r\n                query:''\r\n            }\r\n        },\r\n        components:{\r\n            'app-product-box':ProductBox,\r\n        },\r\n        mounted(){//after \r\n            window.document.title = 'Search | Djackets'\r\n\r\n            let url = window.location.search.substring(1)\r\n            let params = new URLSearchParams(url)\r\n            console.log('Url value', url)\r\n            console.log('Params', params)\r\n            \r\n            if(params.get('product_name')){//return value according given key\r\n                this.query = params.get('product_name')\r\n                this.performSearch()\r\n            }\r\n        },\r\n        methods:{\r\n            async performSearch(){\r\n                this.$store.commit('setIsLoading',true)\r\n                console.log('Query value', this.query)\r\n                await axios.post('api/v1/products/search/',this.query)\r\n                    .then((response)=>{\r\n                        this.products = response.data\r\n                    })\r\n                    .catch((err)=>{\r\n                        console.log(err)\r\n                    })\r\n                this.$store.commit('setIsLoading',false)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}