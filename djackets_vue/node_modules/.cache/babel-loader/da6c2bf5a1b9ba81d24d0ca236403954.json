{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cart: {\n      items: []\n    },\n    isAuthenticated: false,\n    token: '',\n    isLoading: false\n  },\n  getters: {},\n  mutations: {\n    //*initializeStorage\n    initializeStorage(state) {\n      //when startted project work this initializeStorage functio work\n      //create cart localstorage object\n      if (window.localStorage.getItem('cart')) {\n        //if cart already exists localstorage get cart data\n        state.cart = JSON.parse(window.localStorage.getItem('cart'));\n      } else {\n        //if not exists\n        window.localStorage.setItem('cart', JSON.stringify(state.cart));\n      } //!For login authentication token\n\n\n      if (window.localStorage.getItem('token')) {\n        state.token = window.localStorage.getItem('token');\n        state.isAuthenticated = true;\n      } else {\n        //if not token\n        state.token = '';\n        state.isAuthenticated = false;\n      }\n    },\n\n    //*addToCart\n    addToCart(state, item) {\n      const exists = state.cart.items.filter(i => i.product.id === item.product.id); //if already exists product in advanced cart\n\n      if (exists.length > 0) {\n        //if before have this product in cart\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity);\n      } else {\n        state.cart.items.push(item);\n      } //updated localstorage\n\n\n      window.localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    //*abroad function\n    setIsLoading(state, status) {\n      state.isLoading = status;\n    },\n\n    setToken(state, token) {\n      //when user logged in token value state.token value equal token loggen in token value\n      state.token = token;\n      state.isAuthenticated = true;\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","cart","items","isAuthenticated","token","isLoading","getters","mutations","initializeStorage","window","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","item","exists","filter","i","product","id","length","quantity","parseInt","push","setIsLoading","status","setToken","actions","modules"],"sources":["C:/Users/user/Desktop/django_vue_ecommerce/djackets_vue/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n      cart:{\n        items:[]\n      },\n      isAuthenticated:false,\n      token:'',\n      isLoading:false\n  },\n  getters: {\n  },\n  mutations: {\n    //*initializeStorage\n    initializeStorage(state){//when startted project work this initializeStorage functio work\n      //create cart localstorage object\n      if(window.localStorage.getItem('cart')){//if cart already exists localstorage get cart data\n        state.cart = JSON.parse(window.localStorage.getItem('cart'))\n      }\n      else{//if not exists\n        window.localStorage.setItem('cart',JSON.stringify(state.cart))\n      }\n\n      //!For login authentication token\n      if(window.localStorage.getItem('token')){\n        state.token = window.localStorage.getItem('token')\n        state.isAuthenticated=true\n      }\n      else{//if not token\n        state.token=''\n        state.isAuthenticated=false\n      }\n    },\n    //*addToCart\n    addToCart(state,item){\n      const exists = state.cart.items.filter((i=>i.product.id===item.product.id))//if already exists product in advanced cart\n      if(exists.length>0){//if before have this product in cart\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity)\n      }\n      else{\n        state.cart.items.push(item)\n      }\n      //updated localstorage\n      window.localStorage.setItem('cart',JSON.stringify(state.cart))\n    },\n    //*abroad function\n    setIsLoading(state,status){\n      state.isLoading = status\n    },\n    setToken(state,token){//when user logged in token value state.token value equal token loggen in token value\n      state.token=token\n      state.isAuthenticated=true\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACHC,IAAI,EAAC;MACHC,KAAK,EAAC;IADH,CADF;IAIHC,eAAe,EAAC,KAJb;IAKHC,KAAK,EAAC,EALH;IAMHC,SAAS,EAAC;EANP,CADkB;EASzBC,OAAO,EAAE,EATgB;EAWzBC,SAAS,EAAE;IACT;IACAC,iBAAiB,CAACR,KAAD,EAAO;MAAC;MACvB;MACA,IAAGS,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAH,EAAuC;QAAC;QACtCX,KAAK,CAACC,IAAN,GAAaW,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,CAAb;MACD,CAFD,MAGI;QAAC;QACHF,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,MAA5B,EAAmCF,IAAI,CAACG,SAAL,CAAef,KAAK,CAACC,IAArB,CAAnC;MACD,CAPqB,CAStB;;;MACA,IAAGQ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAH,EAAwC;QACtCX,KAAK,CAACI,KAAN,GAAcK,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;QACAX,KAAK,CAACG,eAAN,GAAsB,IAAtB;MACD,CAHD,MAII;QAAC;QACHH,KAAK,CAACI,KAAN,GAAY,EAAZ;QACAJ,KAAK,CAACG,eAAN,GAAsB,KAAtB;MACD;IACF,CApBQ;;IAqBT;IACAa,SAAS,CAAChB,KAAD,EAAOiB,IAAP,EAAY;MACnB,MAAMC,MAAM,GAAGlB,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBiB,MAAjB,CAAyBC,CAAC,IAAEA,CAAC,CAACC,OAAF,CAAUC,EAAV,KAAeL,IAAI,CAACI,OAAL,CAAaC,EAAxD,CAAf,CADmB,CACwD;;MAC3E,IAAGJ,MAAM,CAACK,MAAP,GAAc,CAAjB,EAAmB;QAAC;QAClBL,MAAM,CAAC,CAAD,CAAN,CAAUM,QAAV,GAAqBC,QAAQ,CAACP,MAAM,CAAC,CAAD,CAAN,CAAUM,QAAX,CAAR,GAA+BC,QAAQ,CAACR,IAAI,CAACO,QAAN,CAA5D;MACD,CAFD,MAGI;QACFxB,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBwB,IAAjB,CAAsBT,IAAtB;MACD,CAPkB,CAQnB;;;MACAR,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,MAA5B,EAAmCF,IAAI,CAACG,SAAL,CAAef,KAAK,CAACC,IAArB,CAAnC;IACD,CAhCQ;;IAiCT;IACA0B,YAAY,CAAC3B,KAAD,EAAO4B,MAAP,EAAc;MACxB5B,KAAK,CAACK,SAAN,GAAkBuB,MAAlB;IACD,CApCQ;;IAqCTC,QAAQ,CAAC7B,KAAD,EAAOI,KAAP,EAAa;MAAC;MACpBJ,KAAK,CAACI,KAAN,GAAYA,KAAZ;MACAJ,KAAK,CAACG,eAAN,GAAsB,IAAtB;IACD;;EAxCQ,CAXc;EAqDzB2B,OAAO,EAAE,EArDgB;EAuDzBC,OAAO,EAAE;AAvDgB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}